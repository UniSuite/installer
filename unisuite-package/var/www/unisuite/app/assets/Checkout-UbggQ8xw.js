import{_ as T,E as w,c as o,a as s,d as u,w as _,t as d,b,q as f,r as k,o as i,F as m,p as x,z as y,n as S}from"./index-DhPK79WQ.js";import{a as C}from"./axios-BimPEqV4.js";const r=w(),F={data(){return{tables:"",selectedTable:"",mobileSidebarToggled:!1}},mounted(){r.appSidebarHide=!0,r.appHeaderHide=!0,r.appContentClass="p-0",r.appContentFullHeight=!0,C.get("/assets/data/pos/gastro-checkout.json").then(n=>{this.tables=n.data.tables})},beforeUnmount(){r.appSidebarHide=!1,r.appHeaderHide=!1,r.appContentClass="",r.appContentFullHeight=!1},methods:{checkTime(n){return n<10&&(n="0"+n),n},getTime(){var n=new Date,e=n.getHours(),a=n.getMinutes(),c=n.getSeconds(),l;return a=this.checkTime(a),c=this.checkTime(c),l=e>11?"pm":"am",e=e>12?e-12:e,setTimeout(this.getTime,500),e+":"+a+l},getTotalPrice(n){for(var e=0,a=0;a<n.length;a++)e+=parseFloat(n[a].price);return e.toFixed(2)},toggleTable(n,e){if(n.preventDefault(),this.toggleMobileSidebar(),e.selected){this.selectedTable="";for(var a=0;a<this.tables.length;a++)this.tables[a].selected=!1}else{this.selectedTable=e;for(var a=0;a<this.tables.length;a++)this.tables[a].selected=this.tables[a].id==e.id}},getPrice(n,e){var a=0;if(n)for(var c=0;c<n.length;c++)e=="subtotal"?a+=parseFloat(n[c].price):e=="taxes"?a+=parseFloat(n[c].price)*.06:e=="total"&&(a+=parseFloat(n[c].price),a+=parseFloat(n[c].price)*.06);return a.toFixed(2)},toggleMobileSidebar(){if(this.mobileSidebarToggled=!this.mobileSidebarToggled,!this.mobileSidebarToggled){this.selectedTable="";for(var n=0;n<this.tables.length;n++)this.tables[n].selected=!1}}}},B={class:"pos-container"},N={class:"pos-header"},j={class:"logo"},H={class:"time",id:"time"},P={class:"nav"},z={class:"nav-item"},D={class:"nav-item"},U={class:"nav-item"},M={class:"nav-item"},R={class:"pos-content"},V={class:"pos"},q={class:"pos-container"},I={class:"pos-content h-100"},L={class:"row gx-3 justify-content-center"},A={class:"col-xl-3 col-lg-4 col-md-6 pb-3"},E=["onClick"],K={class:"pos-checkout-table-header"},O={class:"fw-bold display-6"},G={class:"text-inverse text-opacity-50"},J={key:0},Q={key:1},W={class:"pos-checkout-table-info small"},X={class:"row"},Y={class:"col-6 d-flex justify-content-center"},Z={class:"w-60px"},$={class:"w-60px"},ss={key:0},es={key:1},ts={class:"col-6 d-flex justify-content-center"},ls={class:"w-60px"},os={key:0},is={key:1},ns={class:"row"},as={class:"col-6 d-flex justify-content-center"},ds={class:"w-60px"},cs={key:0},rs={key:1},ps={class:"col-6 d-flex justify-content-center"},us={key:0},_s={key:1},fs={key:2},vs={key:3},bs={key:4},hs={key:5},ms={key:1,class:"col-12 text-center mt-2"},xs={class:"pos-sidebar",id:"pos-sidebar"},gs={class:"pos-sidebar-header"},ks={class:"back-btn"},ys={class:"title"},Ts={class:"order"},ws={class:"text-theme"},Ss={class:"pos-order py-3"},Cs={class:"pos-order-product"},Fs={class:"flex-1"},Bs={class:"row"},Ns={class:"col-7"},js={class:"fs-6 fw-semibold"},Hs={class:"fs-13px"},Ps={class:"fs-13px text-body text-opacity-50"},zs={class:"col-1"},Ds={class:"col-4 text-body fw-semibold text-end"},Us={key:1,class:"p-4 text-center"},Ms={key:0},Rs={key:1},Vs={class:"pos-sidebar-footer"},qs={class:"d-flex align-items-center mb-2"},Is={class:"flex-1 text-end h6 mb-0"},Ls={class:"d-flex align-items-center"},As={class:"flex-1 text-end h6 mb-0"},Es={class:"d-flex align-items-center mb-2"},Ks={class:"flex-1 text-end h4 mb-0"},Os={class:"mt-3"},Gs={class:"d-flex"},Js={key:0},Qs={key:1},Ws={key:2};function Xs(n,e,a,c,l,p){const v=k("RouterLink"),g=k("perfect-scrollbar");return i(),o("div",{class:f(["pos pos-vertical pos-with-header pos-with-sidebar",{"pos-mobile-sidebar-toggled":l.mobileSidebarToggled}])},[s("div",B,[s("div",N,[s("div",j,[u(v,{to:"/pos/hotel/rooms"},{default:_(()=>e[1]||(e[1]=[s("div",{class:"logo-img"},[s("i",{class:"fa fa-bowl-rice",style:{"font-size":"1.5rem"}})],-1),s("div",{class:"logo-text"},"Pine & Dine",-1)])),_:1})]),s("div",H,d(p.getTime()),1),s("div",P,[s("div",z,[u(v,{to:"/pos/gastro/reservation",class:"nav-link"},{default:_(()=>e[2]||(e[2]=[s("i",{class:"far fa-calendar-check nav-icon"},null,-1)])),_:1})]),s("div",D,[u(v,{to:"/pos/gastro/order",class:"nav-link"},{default:_(()=>e[3]||(e[3]=[s("i",{class:"far fa-cash-register nav-icon"},null,-1)])),_:1})]),s("div",U,[u(v,{to:"/pos/gastro/kitchendisplay",class:"nav-link"},{default:_(()=>e[4]||(e[4]=[s("i",{class:"far fa-tv nav-icon"},null,-1)])),_:1})]),s("div",M,[u(v,{to:"/pos/gastro/checkout",class:"nav-link text-theme"},{default:_(()=>e[5]||(e[5]=[s("i",{class:"fa fa-receipt nav-icon"},null,-1)])),_:1})])])]),s("div",R,[s("div",V,[s("div",q,[s("div",I,[u(g,{class:"pos-content-container p-3 h-100"},{default:_(()=>[s("div",L,[l.tables?(i(!0),o(m,{key:0},x(l.tables,t=>(i(),o("div",A,[s("div",{class:f(["pos-checkout-table",{selected:t.selected,available:!t.orders&&t.status==0,"in-use":t.orders||t.pax>0,disabled:t.status==1||t.status==3||t.status==4}])},[s("a",{href:"#",class:"pos-checkout-table-container",onClick:h=>p.toggleTable(h,t)},[s("div",K,[e[6]||(e[6]=s("div",{class:"status"},[s("i",{class:"bi bi-circle-fill"})],-1)),e[7]||(e[7]=s("div",{class:"fw-bold"}," Tisch ",-1)),s("div",O,d(t.tableNo),1),s("div",G,[t.orders?(i(),o("span",J,d(t.seatsUsed)+" Personen",1)):y("",!0),t.orders?y("",!0):(i(),o("span",Q,"max "+d(t.totalSeats)+" Personen",1))])]),s("div",W,[s("div",X,[s("div",Y,[e[8]||(e[8]=s("div",{class:"w-20px"},[s("i",{class:"bi bi-people text-inverse text-opacity-50"})],-1)),s("div",Z,[s("div",$,[t.seatsUsed&&t.totalSeats?(i(),o("span",ss,d(t.seatsUsed)+" / "+d(t.totalSeats),1)):(i(),o("span",es,"-"))])])]),s("div",ts,[e[9]||(e[9]=s("div",{class:"w-20px"},[s("i",{class:"bi bi-clock text-inverse text-opacity-50"})],-1)),s("div",ls,[t.arrived?(i(),o("span",os,d(t.arrived),1)):(i(),o("span",is,"-"))])])]),s("div",ns,[s("div",as,[e[10]||(e[10]=s("div",{class:"w-20px"},[s("i",{class:"bi bi-receipt text-inverse text-opacity-50"})],-1)),s("div",ds,[t.orders?(i(),o("span",cs,d(p.getTotalPrice(t.orders))+" €",1)):(i(),o("span",rs,"-"))])]),s("div",ps,[e[11]||(e[11]=s("div",{class:"w-20px"},[s("i",{class:"bi bi-info-circle text-inverse text-opacity-50"})],-1)),s("div",{class:f(["w-60px",{"text-success":t.status==0,"text-purple":t.status==1,"text-danger":t.status==2,"text-orange":t.status==3,"text-black":t.status==4}])},[t.status==0?(i(),o("span",us,"Frei")):t.status==1?(i(),o("span",_s,"Reserviert")):t.status==2?(i(),o("span",fs,"Belegt")):t.status==3?(i(),o("span",vs,"Cleaning")):t.status==4?(i(),o("span",bs,"Defekt")):(i(),o("span",hs,"Unbekannt"))],2)])])])],8,E)],2)]))),256)):(i(),o("div",ms,e[12]||(e[12]=[s("h2",{class:"text-body text-opacity-50"}," Keine Tische vorhanden ",-1),s("span",{class:"small"},[b("Bitte kontaktiere deinen "),s("a",{href:"mailto:kontakt@company.local"},"Administrator"),b(", wenn dies ein Fehler sein sollte.")],-1)])))])]),_:1})]),s("div",xs,[s("div",gs,[s("div",ks,[s("button",{type:"button",onClick:e[0]||(e[0]=t=>p.toggleMobileSidebar()),class:"btn"},e[13]||(e[13]=[s("i",{class:"bi bi-chevron-left"},null,-1)]))]),e[15]||(e[15]=s("div",{class:"icon"},[s("i",{class:"fa fa-utensils"})],-1)),s("div",ys,"Tisch "+d(l.selectedTable&&l.selectedTable.tableNo?l.selectedTable.tableNo:"-"),1),s("div",Ts,[e[14]||(e[14]=b("Bestellung: ")),s("b",ws,"#"+d(l.selectedTable&&l.selectedTable.orderNo?l.selectedTable.orderNo:"-"),1)])]),e[26]||(e[26]=s("hr",{class:"m-0 opacity-1"},null,-1)),u(g,{class:"pos-sidebar-body h-100"},{default:_(()=>[l.selectedTable&&l.selectedTable.orders?(i(!0),o(m,{key:0},x(l.selectedTable.orders,t=>(i(),o("div",Ss,[s("div",Cs,[s("div",{class:"img w-50px h-50px rounded",style:S({backgroundImage:"url("+t.image+")"})},null,4),s("div",Fs,[s("div",Bs,[s("div",Ns,[s("div",js,d(t.title),1),s("div",Hs,d(t.price)+" €",1),s("div",Ps,[(i(!0),o(m,null,x(t.options,h=>(i(),o("div",null," - "+d(h),1))),256))])]),s("div",zs,"x"+d(t.quantity),1),s("div",Ds,d((parseFloat(t.price)*t.quantity).toFixed(2))+" €",1)])])])]))),256)):(i(),o("div",Us,[l.selectedTable.status==1?(i(),o("span",Ms,[e[16]||(e[16]=b("Reserviert für ")),s("b",null,d(l.selectedTable.reserveName),1)])):(i(),o("span",Rs,"Keine Bestellungen gefunden"))]))]),_:1}),s("div",Vs,[s("div",qs,[e[17]||(e[17]=s("div",null,"Brutto",-1)),s("div",Is,d(p.getPrice(l.selectedTable.orders,"subtotal"))+" €",1)]),s("div",Ls,[e[18]||(e[18]=s("div",null,"Steuern (19%)",-1)),s("div",As,d(p.getPrice(l.selectedTable.orders,"taxes"))+" € ",1)]),e[25]||(e[25]=s("hr",{class:"opacity-1 my-10px"},null,-1)),s("div",Es,[e[19]||(e[19]=s("div",null,"Gesamt",-1)),s("div",Ks,d(p.getPrice(l.selectedTable.orders,"total"))+" € ",1)]),s("div",Os,[s("div",Gs,[s("a",{href:"#",class:f(["btn btn-default w-70px me-10px px-0 d-flex align-items-center justify-content-center",{disabled:!l.selectedTable||l.selectedTable.status>2||l.selectedTable.status<0}])},e[20]||(e[20]=[s("span",null,[s("i",{class:"fa fa-ban fa-lg my-10px d-block"})],-1)]),2),s("a",{href:"#",class:f(["btn btn-default w-70px me-10px d-flex align-items-center justify-content-center",{disabled:!l.selectedTable||l.selectedTable.status>2||l.selectedTable.status<0}])},e[21]||(e[21]=[s("span",null,[s("i",{class:"fa fa-pencil fa-fw fa-lg my-10px d-block"})],-1)]),2),s("a",{href:"#",class:f(["btn btn-theme flex-fill d-flex align-items-center justify-content-center",{disabled:!l.selectedTable||l.selectedTable.status>2||l.selectedTable.status<0}])},[l.selectedTable.status==0||l.selectedTable.status==1?(i(),o("span",Js,e[22]||(e[22]=[s("i",{class:"fa fa-receipt fa-lg my-10px d-block"},null,-1),s("span",{class:"small fw-semibold"},"Check-In",-1)]))):l.selectedTable.status==2?(i(),o("span",Qs,e[23]||(e[23]=[s("i",{class:"fa fa-wallet fa-lg my-10px d-block"},null,-1),s("span",{class:"small fw-semibold"},"Bezahlen",-1)]))):(i(),o("span",Ws,e[24]||(e[24]=[s("i",{class:"fa fa-money-check fa-lg my-10px d-block"},null,-1),s("span",{class:"small fw-semibold"},"Check In / Bezahlen",-1)])))],2)])])])])])])])])],2)}const $s=T(F,[["render",Xs]]);export{$s as default};
