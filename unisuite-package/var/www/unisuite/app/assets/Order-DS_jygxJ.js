import{_ as H,E as z,M as N,c as r,a as t,d as b,w as h,F as m,p as v,t as a,b as _,G as O,q as g,x as M,l as Q,z as p,r as y,o as d,n as k,i as S,v as q,H as F,I}from"./index-CEkzpL2O.js";import{a as A}from"./axios-BimPEqV4.js";const f=z(),P={data(){return{menu:"",order:"",orderHistory:"",orderNo:"#0000",tableNo:"0",modal:"",modalData:"",modalQuantity:"",modalSelectedSize:"",modalSelectedAddon:[],mobileSidebarToggled:!1}},mounted(){f.appSidebarHide=!0,f.appHeaderHide=!0,f.appContentClass="p-0",f.appContentFullHeight=!0,A.get("/assets/data/pos/customer-order.json").then(l=>{this.menu=l.data,this.order=l.data.order,this.orderNo=l.data.orderNo,this.orderHistory=l.data.orderHistory,this.tableNo=l.data.tableNo})},beforeUnmount(){f.appSidebarHide=!1,f.appHeaderHide=!1,f.appContentClass="",f.appContentFullHeight=!1},methods:{toggleMobileSidebar:function(){this.mobileSidebarToggled=!this.mobileSidebarToggled},getOrderTotal:function(){return this.order?this.order.length:0},getOrderHistoryTotal:function(){return this.orderHistory?this.orderHistory.length:0},getSubTotalPrice:function(){for(var l=0,s=0;s<this.order.length;s++)l+=parseFloat(this.order[s].price)*parseInt(this.order[s].quantity);return l.toFixed(2)},getTaxesPrice:function(){for(var l=0,s=0;s<this.order.length;s++)l+=parseFloat(this.order[s].price)*parseInt(this.order[s].quantity)*.06;return l.toFixed(2)},getTotalPrice:function(){for(var l=0,s=0;s<this.order.length;s++)l+=parseFloat(this.order[s].price)*parseInt(this.order[s].quantity),l+=parseFloat(this.order[s].price)*parseInt(this.order[s].quantity)*.06;return l.toFixed(2)},deductQty:function(l,s){l.preventDefault();for(var o=0;o<this.order.length;o++)if(this.order[o].id==s){var u=parseInt(this.order[o].quantity)-1;u<1&&(u=1),this.order[o].quantity=u}},addQty:function(l,s){l.preventDefault();for(var o=0;o<this.order.length;o++)if(this.order[o].id==s){var u=parseInt(this.order[o].quantity)+1;this.order[o].quantity=u}},showType:function(l,s){l.preventDefault();for(var o=0;o<this.menu.category.length;o++)this.menu.category[o].type==s?this.menu.category[o].active=!0:this.menu.category[o].active=!1;for(var o=0;o<this.menu.food.length;o++)this.menu.food[o].type==s||s=="all"?this.menu.food[o].hide=!1:this.menu.food[o].hide=!0},showFoodModal:function(l,s){l.preventDefault();for(var o=0;o<this.menu.food.length;o++)this.menu.food[o].id==s&&(this.modalData=this.menu.food[o]);this.modalData.options&&this.modalData.options.size&&(this.modalSelectedSize=this.modalData.options.size[0].text),this.modalQuantity=1,this.modalSelectedAddon=[],this.modal=new N(this.$refs.modalPosItem),this.modal.show()},addModalQty:function(l){l.preventDefault(),this.modalQuantity=this.modalQuantity+1},deductModalQty:function(l){l.preventDefault();var s=parseInt(this.modalQuantity)-1;s<1&&(s=1),this.modalQuantity=s},addToCart:function(l){l.preventDefault(),this.modal.hide();var s=[];if(this.modalSelectedSize){var o={key:"size",value:this.modalSelectedSize};s.push(o)}if(this.modalSelectedAddon)for(var u=0;u<this.modalSelectedAddon.length;u++){var o={key:"addon",value:this.modalSelectedAddon[u]};s.push(o)}this.order.push({id:this.order.length+1,image:this.modalData.image,title:this.modalData.title,price:this.modalData.price,quantity:this.modalQuantity,options:s}),setTimeout(()=>{this.$refs.posSidebarBody.$el.scrollTop=9999,this.$refs.posSidebarBody.ps.update()},500)},toggleConfirmation:function(l,s,o){l.preventDefault();for(var u=0;u<this.order.length;u++)this.order[u].id==s&&(this.order[u].confirmation=o)},removeOrder:function(l,s){l.preventDefault();for(var o=0;o<this.order.length;o++)this.order[o].id==s&&this.order.splice(o,1)}}},V={class:"pos-container"},j={class:"pos-menu"},B={class:"logo"},U={class:"nav-container"},R={class:"nav nav-tabs"},L={class:"nav-item"},E={class:"nav-item"},G=["onClick"],Y={class:"pos-content"},Z={class:"pos-content-container h-100"},J={class:"row gx-4"},K={key:0,class:"col-xxl-3 col-xl-4 col-lg-6 col-md-4 col-sm-6 pb-4"},W=["onClick"],X={class:"info"},$={class:"title"},tt={class:"desc"},st={class:"price"},et={key:0,class:"not-available-text"},ot={class:"pos-sidebar"},lt={class:"h-100 d-flex flex-column p-0"},it={class:"pos-sidebar-header"},at={class:"back-btn"},nt={class:"title"},dt={class:"order"},rt={class:"pos-sidebar-nav"},ct={class:"nav nav-tabs nav-fill"},ut={class:"nav-item"},mt={class:"nav-link active",href:"#","data-bs-toggle":"tab","data-bs-target":"#newOrderTab"},ft={class:"nav-item"},pt={class:"nav-link",href:"#","data-bs-toggle":"tab","data-bs-target":"#orderHistoryTab"},ht={class:"tab-pane fade h-100 show active",id:"newOrderTab"},vt={class:"pos-order"},bt={class:"pos-order-product"},_t={class:"flex-1"},gt={class:"h6 mb-1"},yt={class:"small"},xt={class:"small mb-2"},kt={class:"d-flex"},St=["onClick"],wt=["onUpdate:modelValue"],Ct=["onClick"],Tt={class:"pos-order-price d-flex flex-column"},Dt={class:"text-end mt-auto"},Ht=["onClick"],zt={key:0,class:"pos-order-confirmation text-center d-flex flex-column justify-content-center"},Nt=["onClick"],Ot=["onClick"],Mt={key:1,class:"h-100 d-flex align-items-center justify-content-center text-center p-20"},Qt={class:"pos-sidebar-footer"},qt={class:"d-flex align-items-center mb-2"},Ft={class:"flex-1 text-end h6 mb-0"},It={class:"d-flex align-items-center"},At={class:"flex-1 text-end h6 mb-0"},Pt={class:"d-flex align-items-center mb-2"},Vt={class:"flex-1 text-end h4 mb-0"},jt={class:"badge"},Bt={class:"modal modal-pos fade",ref:"modalPosItem"},Ut={class:"modal-dialog modal-lg"},Rt={class:"modal-content border-0"},Lt={class:"modal-pos-product"},Et={class:"modal-pos-product-img"},Gt={class:"modal-pos-product-info d-flex flex-column"},Yt={class:"h4 mb-2"},Zt={class:"text-body text-opacity-50 mb-2"},Jt={class:"h4 mb-3"},Kt={class:"d-flex mb-3"},Wt=["value"],Xt={key:0,class:"mb-2"},$t={class:"option-list"},ts={class:"option"},ss=["id","value"],es=["for"],os={class:"option-text"},ls={class:"option-price"},is={key:1,class:"mb-2"},as={class:"option-list"},ns={class:"option"},ds=["name","value","id"],rs=["for"],cs={class:"option-text"},us={class:"option-price"};function ms(l,s,o,u,n,c){const w=y("RouterLink"),C=y("perfect-scrollbar"),T=y("card-body"),D=y("card");return d(),r(m,null,[t("div",{class:g(["pos pos-with-menu pos-with-sidebar",{"pos-mobile-sidebar-toggled":n.mobileSidebarToggled}])},[t("div",V,[t("div",j,[t("div",B,[b(w,{to:"/"},{default:h(()=>s[7]||(s[7]=[t("div",{class:"logo-img"},[t("i",{class:"fa fa-bowl-rice"})],-1),t("div",{class:"logo-text"},"Pine & Dine",-1)])),_:1})]),t("div",U,[b(C,{class:"h-100"},{default:h(()=>[t("ul",R,[t("li",L,[b(w,{to:"/pos/gastro/reservation",class:"nav-link"},{default:h(()=>s[8]||(s[8]=[_("ZurÃ¼ck")])),_:1})]),s[9]||(s[9]=t("hr",{class:"mx-2"},null,-1)),(d(!0),r(m,null,v(n.menu.category,e=>(d(),r("li",E,[t("a",{class:g(["nav-link",{active:e.active}]),href:"#",onClick:i=>c.showType(i,e.type)},[t("i",{class:g(e.icon)},null,2),_(" "+a(e.text),1)],10,G)]))),256))])]),_:1})])]),t("div",Y,[t("div",Z,[t("div",J,[(d(!0),r(m,null,v(n.menu.food,e=>(d(),r(m,null,[e.hide?p("",!0):(d(),r("div",K,[t("a",{href:"#",class:g(["pos-product",{"not-available":!e.available}]),onClick:i=>c.showFoodModal(i,e.id)},[t("div",{class:"img",style:k({backgroundImage:"url("+e.image+")"})},null,4),t("div",X,[t("div",$,a(e.title),1),t("div",tt,a(e.description),1),t("div",st,"$"+a(e.price),1)]),e.available?p("",!0):(d(),r("div",et,s[10]||(s[10]=[t("div",null,"Not Available",-1)])))],10,W)]))],64))),256))])])]),t("div",ot,[t("div",lt,[t("div",it,[t("div",at,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>c.toggleMobileSidebar()),class:"btn"},s[11]||(s[11]=[t("i",{class:"bi bi-chevron-left"},null,-1)]))]),s[13]||(s[13]=t("div",{class:"icon"},[t("i",{class:"fa fa-plate-wheat"})],-1)),t("div",nt,"Table "+a(n.tableNo),1),t("div",dt,[s[12]||(s[12]=_("Order: ")),t("b",null,a(n.orderNo),1)])]),t("div",rt,[t("ul",ct,[t("li",ut,[t("a",mt,"New Order ("+a(c.getOrderTotal())+")",1)]),t("li",ft,[t("a",pt,"Order History ("+a(c.getOrderHistoryTotal())+")",1)])])]),b(C,{ref:"posSidebarBody",class:"pos-sidebar-body tab-content"},{default:h(()=>[t("div",ht,[n.order.length>0?(d(!0),r(m,{key:0},v(n.order,e=>(d(),r("div",vt,[t("div",bt,[t("div",{class:"img",style:k({backgroundImage:"url("+e.image+")"})},null,4),t("div",_t,[t("div",gt,a(e.title),1),t("div",yt,"$"+a(e.price),1),t("div",xt,[(d(!0),r(m,null,v(e.options,i=>(d(),r("div",null,"- "+a(i.key)+": "+a(i.value),1))),256))]),t("div",kt,[t("a",{href:"#",class:"btn btn-secondary btn-sm",onClick:i=>c.deductQty(i,e.id)},s[14]||(s[14]=[t("i",{class:"fa fa-minus"},null,-1)]),8,St),S(t("input",{type:"text","onUpdate:modelValue":i=>e.quantity=i,class:"form-control w-50px form-control-sm mx-2 bg-white bg-opacity-25 text-center"},null,8,wt),[[q,e.quantity]]),t("a",{href:"#",class:"btn btn-secondary btn-sm",onClick:i=>c.addQty(i,e.id)},s[15]||(s[15]=[t("i",{class:"fa fa-plus"},null,-1)]),8,Ct)])])]),t("div",Tt,[t("div",null,"$"+a((e.price*e.quantity).toFixed(2)),1),t("div",Dt,[t("a",{href:"#",onClick:i=>c.toggleConfirmation(i,e.id,!0),class:"btn btn-default btn-sm"},s[16]||(s[16]=[t("i",{class:"fa fa-trash"},null,-1)]),8,Ht)])]),e.confirmation?(d(),r("div",zt,[s[17]||(s[17]=t("div",{class:"mb-1"},[t("i",{class:"fa fa-trash fs-36px lh-1"})],-1)),s[18]||(s[18]=t("div",{class:"mb-2"},"Remove this item?",-1)),t("div",null,[t("a",{href:"#",onClick:i=>c.toggleConfirmation(i,e.id,!1),class:"btn btn-default btn-sm ms-auto me-2 width-100px"},"No",8,Nt),t("a",{href:"#",onClick:i=>c.removeOrder(i,e.id),class:"btn btn-theme btn-sm width-100px"},"Yes",8,Ot)])])):p("",!0)]))),256)):(d(),r("div",Mt,s[19]||(s[19]=[t("div",null,[t("div",{class:"mb-3 mt-n5"},[t("i",{class:"fa fa-utensils text-body text-opacity-25",style:{"font-size":"5em"}})]),t("h5",null,"No order found")],-1)])))]),s[20]||(s[20]=t("div",{class:"tab-pane fade h-100",id:"orderHistoryTab"},[t("div",{class:"h-100 d-flex align-items-center justify-content-center text-center p-20"},[t("div",null,[t("div",{class:"mb-3 mt-n5"},[t("i",{class:"fa fa-shopping-bag text-body text-opacity-25",style:{"font-size":"5em"}})]),t("h5",null,"No order history found")])])],-1))]),_:1},512),t("div",Qt,[t("div",qt,[s[21]||(s[21]=t("div",null,"Subtotal",-1)),t("div",Ft,"$"+a(c.getSubTotalPrice()),1)]),t("div",It,[s[22]||(s[22]=t("div",null,"Taxes (6%)",-1)),t("div",At,"$"+a(c.getTaxesPrice()),1)]),s[24]||(s[24]=t("hr",null,null,-1)),t("div",Pt,[s[23]||(s[23]=t("div",null,"Total",-1)),t("div",Vt,"$"+a(c.getTotalPrice()),1)]),s[25]||(s[25]=O('<div class="mt-3"><div class="d-flex"><a href="#" class="btn btn-default w-70px me-10px d-flex align-items-center justify-content-center"><span><i class="fa fa-bell fa-lg my-10px d-block"></i><span class="small fw-semibold">Service</span></span></a><a href="#" class="btn btn-default w-70px me-10px d-flex align-items-center justify-content-center"><span><i class="fa fa-receipt fa-fw fa-lg my-10px d-block"></i><span class="small fw-semibold">Bill</span></span></a><a href="#" class="btn btn-theme flex-fill d-flex align-items-center justify-content-center"><span><i class="fa fa-cash-register fa-lg my-10px d-block"></i><span class="small fw-semibold">Submit Order</span></span></a></div></div>',1))])])])])],2),t("a",{href:"#",class:"pos-mobile-sidebar-toggler",onClick:s[1]||(s[1]=e=>c.toggleMobileSidebar())},[s[26]||(s[26]=t("i",{class:"bi bi-bag"},null,-1)),t("span",jt,a(c.getOrderTotal()),1)]),t("div",Bt,[t("div",Ut,[t("div",Rt,[t("form",{onSubmit:s[6]||(s[6]=M((...e)=>c.addToCart&&c.addToCart(...e),["prevent"]))},[n.modalData?(d(),Q(D,{key:0},{default:h(()=>[b(T,{class:"p-0"},{default:h(()=>[s[34]||(s[34]=t("a",{href:"#","data-bs-dismiss":"modal",class:"btn-close position-absolute top-0 end-0 m-4"},null,-1)),t("div",Lt,[t("div",Et,[t("div",{class:"img",style:k({backgroundImage:"url("+n.modalData.image+")"})},null,4)]),t("div",Gt,[t("div",Yt,a(n.modalData.title),1),t("div",Zt,a(n.modalData.description),1),t("div",Jt,"$"+a(n.modalData.price),1),t("div",Kt,[t("a",{href:"#",class:"btn btn-secondary",onClick:s[2]||(s[2]=e=>c.deductModalQty(e))},s[27]||(s[27]=[t("i",{class:"fa fa-minus"},null,-1)])),t("input",{type:"text",class:"form-control w-50px fw-bold mx-2 text-center",name:"qty",value:n.modalQuantity},null,8,Wt),t("a",{href:"#",class:"btn btn-secondary",onClick:s[3]||(s[3]=e=>c.addModalQty(e))},s[28]||(s[28]=[t("i",{class:"fa fa-plus"},null,-1)]))]),n.modalData.options?(d(),r(m,{key:0},[s[31]||(s[31]=t("hr",{class:"opacity-1"},null,-1)),n.modalData.options.size?(d(),r("div",Xt,[s[29]||(s[29]=t("div",{class:"fw-bold"},"Size:",-1)),t("div",$t,[(d(!0),r(m,null,v(n.modalData.options.size,(e,i)=>(d(),r("div",ts,[S(t("input",{type:"radio",id:"size["+i+"]",name:"size",class:"option-input","onUpdate:modelValue":s[4]||(s[4]=x=>n.modalSelectedSize=x),value:e.text},null,8,ss),[[F,n.modalSelectedSize]]),t("label",{class:"option-label",for:"size["+i+"]"},[t("span",os,a(e.text),1),t("span",ls,"+"+a(e.price),1)],8,es)]))),256))])])):p("",!0),n.modalData.options.addon?(d(),r("div",is,[s[30]||(s[30]=t("div",{class:"fw-bold"},"Add On:",-1)),t("div",as,[(d(!0),r(m,null,v(n.modalData.options.addon,(e,i)=>(d(),r("div",ns,[S(t("input",{type:"checkbox",name:"addon["+i+"]",value:e.text,"onUpdate:modelValue":s[5]||(s[5]=x=>n.modalSelectedAddon=x),class:"option-input",id:"addon["+i+"]"},null,8,ds),[[I,n.modalSelectedAddon]]),t("label",{class:"option-label",for:"addon["+i+"]"},[t("span",cs,a(e.text),1),t("span",us,"+"+a(e.price),1)],8,rs)]))),256))])])):p("",!0)],64)):p("",!0),s[32]||(s[32]=t("hr",{class:"opacity-1"},null,-1)),s[33]||(s[33]=t("div",{class:"row"},[t("div",{class:"col-4"},[t("a",{href:"#",class:"btn btn-default fw-semibold mb-0 d-block py-3 w-100","data-bs-dismiss":"modal"},"Cancel")]),t("div",{class:"col-8"},[t("button",{type:"submit",class:"btn btn-theme fw-semibold d-flex justify-content-center align-items-center py-3 m-0 w-100"},[_("Add to cart "),t("i",{class:"fa fa-plus ms-2 my-n3"})])])],-1))])])]),_:1})]),_:1})):p("",!0)],32)])])],512)],64)}const hs=H(P,[["render",ms]]);export{hs as default};
