import{_ as i,u as p,c as l,a as t,b as r,t as a,o as c}from"./index-BuZhHD2q.js";import{a as d}from"./axios-CCb-kr4I.js";const e=p(),u={data(){return{year:new Date().getFullYear()}},mounted(){e.appSidebarHide=!0,e.appHeaderHide=!0,e.appFooter=!1,e.appContentClass="p-0",this.logout()},beforeUnmount(){e.appSidebarHide=!1,e.appHeaderHide=!1,e.appFooter=!0,e.appContentClass=""},methods:{async logout(){const o=localStorage.getItem("id_token");if(o)try{await d.post("https://api.unisuite.de/auth/logout",{},{headers:{Authorization:`Bearer ${o}`}}),localStorage.removeItem("id_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),this.$router.push("/")}catch(s){console.error("Logout failed",s)}else this.$router.push("/")}}},m={class:"login"},f={class:"login-content"},g={class:"fixed-bottom mb-2 text-center small text-inverse text-opacity-50"},h={href:"https://unisuite.de/",target:"_blank"};function _(o,s,v,b,n,k){return c(),l("div",m,[t("div",f,[s[0]||(s[0]=t("div",{class:"d-flex justify-content-center"},[t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Logging out...")])],-1)),t("div",g,[r(" Â© "+a(n.year)+" ",1),t("a",h,a(o.$t("APP.NAME")),1),r(" - "+a(o.$t("APP.LIC"))+". ",1)])])])}const S=i(u,[["render",_]]);export{S as default};
